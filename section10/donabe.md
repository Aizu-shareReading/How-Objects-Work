# 擬人化して役割分担させるオブジェクト指向設計

## 設計の流れ
1. 実行環境の定義
   - OS, 通信, データベース
2. ソフトウェア全体の構造定義  
   - アプリケーション全体の標準化と品質確保
   - フレームワークを採用するのが一般的
3. 個々のソフトウェア部品の設計
   - クラス、メソッドの仕様
   - インターフェース

## 設計の目標
実行効率 < 保守性や再利用性

### 重複を排除する
排除しないと？
- テストが大変になる
- 理解がしづらくなる
- 重複の見落としによる修正漏れ

### 部品の独立性を高める
分割することでわかりやすくする  
独立性を高めると？
- 機能が明確になる
- 変更時の修正箇所の特定が容易
- 修正時の影響を最小限に抑える
- 部品を抜き出して別のアプリケーションで再利用できる

**凝集度(cohesion)**  
- 個々の部品の機能のまとまり度合い
- 強いほど良い
- クラスに定義するモノの意味的まとまりを強くする

**結合度(coupling)**
- 部品間の結びつき度合い
- 弱いほど良い
- クラス間のやり取りを少なくする

#### 独立性を高めるコツ
- 一言で表現する名前を付ける
  - まとまりが強いと名前をつけやすい
  - 理解しやすい
- クラス外に公開する情報を最小限にする
- クラスやメソッドを小さく作る

### 依存関係を循環させない
循環していると？
- 単独でコンパイルできない → 単独で再利用できない
- 修正時に依存しているすべての部品の影響を確認する必要がある

## 擬人化と役割分担
OOPによって独立性が高くなり「何々係」みたいな人間のイメージに近くなった

例: 
- 口座くんに「お金頂戴」と依頼する
- 口座くんがカレンダーくんに日付を聞く
- 口座くんが通帳くんに印刷してもらう

相互にメッセージを送り合いながら仕事を達成する

OOPはプログラミング技術と汎用整理術の両方の側面を持つ  
→ 設計段階では両方必要
